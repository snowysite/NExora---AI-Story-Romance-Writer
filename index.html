<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NExora - AI Story & Romance Writer</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
   
</head>
<body class="bg-black text-white min-h-screen">
    <!-- Header -->
    <header class="gradient-bg py-6 sticky top-0 z-50">
        <div class="container mx-auto px-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center float">
                        <span class="text-2xl">âœ¨</span>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold text-white">NExora</h1>
                        <p class="text-white/80">AI Story & Romance Writer</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="showHistory()" class="px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors">
                        ğŸ“š My Stories
                    </button>
                    <button onclick="toggleTheme()" class="p-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors">
                        ğŸŒ™
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="py-16 text-center fade-in">
        <div class="container mx-auto px-6">
            <h2 class="text-5xl md:text-7xl font-bold mb-6">
                Create Amazing
                <span class="gradient-text block">Stories & Messages</span>
            </h2>
            <p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto">
                Whether you need an epic adventure story or the perfect romantic message, 
                NExora's AI will help you create something magical! âœ¨
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="showStoryGenerator()" class="px-8 py-4 bg-orangered hover:bg-red-600 text-white font-semibold rounded-lg transition-all transform hover:scale-105 sparkle">
                    ğŸ“– Generate Story
                </button>
                <button onclick="showRomanceWriter()" class="px-8 py-4 bg-pink-600 hover:bg-pink-700 text-white font-semibold rounded-lg transition-all transform hover:scale-105 sparkle">
                    ğŸ’• Write Romance
                </button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container mx-auto px-6 py-12">
        <!-- Mode Selection -->
        <div id="mode-selection" class="grid md:grid-cols-2 gap-8 mb-12">
            <!-- Story Generator Card -->
            <div class="story-card rounded-2xl p-8 card-hover cursor-pointer" onclick="showStoryGenerator()">
                <div class="text-center">
                    <div class="text-6xl mb-4 float">ğŸ“š</div>
                    <h3 class="text-2xl font-bold mb-4 text-orangered">Story Generator</h3>
                    <p class="text-gray-300 mb-6">Create epic adventures, mysteries, sci-fi tales, and more! Perfect for creative writing and entertainment.</p>
                    <div class="flex flex-wrap gap-2 justify-center">
                        <span class="px-3 py-1 bg-orangered/20 text-orangered rounded-full text-sm">Adventure</span>
                        <span class="px-3 py-1 bg-orangered/20 text-orangered rounded-full text-sm">Mystery</span>
                        <span class="px-3 py-1 bg-orangered/20 text-orangered rounded-full text-sm">Fantasy</span>
                        <span class="px-3 py-1 bg-orangered/20 text-orangered rounded-full text-sm">Sci-Fi</span>
                    </div>
                </div>
            </div>

            <!-- Romance Writer Card -->
            <div class="romance-card rounded-2xl p-8 card-hover cursor-pointer" onclick="showRomanceWriter()">
                <div class="text-center">
                    <div class="text-6xl mb-4 heart-beat">ğŸ’•</div>
                    <h3 class="text-2xl font-bold mb-4 text-pink-400">Romance Writer</h3>
                    <p class="text-gray-300 mb-6">Craft the perfect romantic messages, love letters, and sweet texts that will make hearts flutter!</p>
                    <div class="flex flex-wrap gap-2 justify-center">
                        <span class="px-3 py-1 bg-pink-600/20 text-pink-400 rounded-full text-sm">Love Letters</span>
                        <span class="px-3 py-1 bg-pink-600/20 text-pink-400 rounded-full text-sm">Sweet Texts</span>
                        <span class="px-3 py-1 bg-pink-600/20 text-pink-400 rounded-full text-sm">Poems</span>
                        <span class="px-3 py-1 bg-pink-600/20 text-pink-400 rounded-full text-sm">Proposals</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Story Generator Interface -->
        <div id="story-generator" class="hidden">
            <div class="bg-gray-900 rounded-2xl p-8 mb-8 slide-in">
                <h3 class="text-3xl font-bold mb-6 text-center">
                    <span class="text-6xl mr-4">ğŸ“–</span>
                    Story Generator
                </h3>
                
                <form id="story-form" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium mb-2 text-orangered">Story Genre</label>
                            <select id="story-genre" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-orangered focus:outline-none">
                                <option value="adventure">ğŸ—¡ï¸ Adventure</option>
                                <option value="mystery">ğŸ” Mystery</option>
                                <option value="fantasy">ğŸ§™â€â™‚ï¸ Fantasy</option>
                                <option value="sci-fi">ğŸš€ Sci-Fi</option>
                                <option value="horror">ğŸ‘» Horror</option>
                                <option value="comedy">ğŸ˜‚ Comedy</option>
                                <option value="drama">ğŸ­ Drama</option>
                                <option value="romance">ğŸ’– Romance</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2 text-orangered">Story Length</label>
                            <select id="story-length" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-orangered focus:outline-none">
                                <option value="short">ğŸ“ Short (1-2 paragraphs)</option>
                                <option value="medium">ğŸ“„ Medium (3-5 paragraphs)</option>
                                <option value="long">ğŸ“š Long (6+ paragraphs)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2 text-orangered">Main Character</label>
                        <input type="text" id="main-character" placeholder="e.g., Alex, a brave teenager" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-orangered focus:outline-none">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2 text-orangered">Setting/Location</label>
                        <input type="text" id="story-setting" placeholder="e.g., a mysterious forest, futuristic city, haunted mansion" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-orangered focus:outline-none">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2 text-orangered">Special Elements (Optional)</label>
                        <input type="text" id="special-elements" placeholder="e.g., magic powers, alien technology, ancient curse" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-orangered focus:outline-none">
                    </div>
                    
                    <button type="submit" class="w-full bg-orangered hover:bg-red-600 text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-105 sparkle">
                        âœ¨ Generate My Story
                    </button>
                </form>
            </div>
        </div>

        <!-- Romance Writer Interface -->
        <div id="romance-writer" class="hidden">
            <div class="bg-gray-900 rounded-2xl p-8 mb-8 slide-in">
                <h3 class="text-3xl font-bold mb-6 text-center">
                    <span class="text-6xl mr-4 heart-beat">ğŸ’•</span>
                    Romance Writer
                </h3>
                
                <form id="romance-form" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium mb-2 text-pink-400">Message Type</label>
                            <select id="romance-type" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-pink-400 focus:outline-none">
                                <option value="sweet-text">ğŸ’¬ Sweet Text Message</option>
                                <option value="love-letter">ğŸ’Œ Love Letter</option>
                                <option value="poem">ğŸ“ Romantic Poem</option>
                                <option value="good-morning">ğŸŒ… Good Morning Message</option>
                                <option value="good-night">ğŸŒ™ Good Night Message</option>
                                <option value="apology">ğŸ™ Apology Message</option>
                                <option value="anniversary">ğŸ‰ Anniversary Message</option>
                                <option value="proposal">ğŸ’ Proposal</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2 text-pink-400">Tone</label>
                            <select id="romance-tone" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-pink-400 focus:outline-none">
                                <option value="sweet">ğŸ¯ Sweet & Cute</option>
                                <option value="passionate">ğŸ”¥ Passionate</option>
                                <option value="playful">ğŸ˜Š Playful & Fun</option>
                                <option value="deep">ğŸ’­ Deep & Meaningful</option>
                                <option value="casual">ğŸ˜ Casual & Friendly</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2 text-pink-400">Their Name</label>
                        <input type="text" id="partner-name" placeholder="e.g., Sarah, Alex, Jamie" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-pink-400 focus:outline-none">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2 text-pink-400">What You Love About Them</label>
                        <input type="text" id="love-about" placeholder="e.g., their smile, sense of humor, kindness" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-pink-400 focus:outline-none">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2 text-pink-400">Special Memory (Optional)</label>
                        <input type="text" id="special-memory" placeholder="e.g., our first date, when we met, last weekend together" class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg focus:border-pink-400 focus:outline-none">
                    </div>
                    
                    <button type="submit" class="w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-105 sparkle">
                        ğŸ’• Create My Message
                    </button>
                </form>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results-section" class="hidden">
            <div class="bg-gray-900 rounded-2xl p-8 mb-8">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-bold" id="results-title">Your Creation</h3>
                    <div class="flex space-x-3">
                        <button onclick="copyResult()" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors">
                            ğŸ“‹ Copy
                        </button>
                        <button onclick="saveResult()" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
                            ğŸ’¾ Save
                        </button>
                        <button onclick="shareResult()" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors">
                            ğŸ“¤ Share
                        </button>
                    </div>
                </div>
                
                <div id="result-content" class="bg-gray-800 rounded-lg p-6 mb-6 custom-scrollbar max-h-96 overflow-y-auto">
                    <!-- Generated content will appear here -->
                </div>
                
                <div class="flex flex-col sm:flex-row gap-4">
                    <button onclick="regenerateResult()" class="flex-1 bg-orangered hover:bg-red-600 text-white py-3 px-6 rounded-lg transition-colors">
                        ğŸ”„ Generate Another
                    </button>
                    <button onclick="goBack()" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 px-6 rounded-lg transition-colors">
                        â† Back to Options
                    </button>
                </div>
            </div>
        </div>

        <!-- Quick Prompts -->
        <div id="quick-prompts" class="mb-12">
            <h3 class="text-2xl font-bold mb-6 text-center">âœ¨ Quick Ideas</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                <button onclick="useQuickPrompt('story', 'A teenager discovers they have magical powers on their 16th birthday')" class="p-4 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-left">
                    <div class="text-2xl mb-2">ğŸ§™â€â™‚ï¸</div>
                    <p class="text-sm">Magical Powers Discovery</p>
                </button>
                
                <button onclick="useQuickPrompt('story', 'Two best friends get trapped in a video game world')" class="p-4 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-left">
                    <div class="text-2xl mb-2">ğŸ®</div>
                    <p class="text-sm">Video Game Adventure</p>
                </button>
                
                <button onclick="useQuickPrompt('romance', 'good morning message for someone special')" class="p-4 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-left">
                    <div class="text-2xl mb-2">ğŸŒ…</div>
                    <p class="text-sm">Good Morning Text</p>
                </button>
                
                <button onclick="useQuickPrompt('romance', 'sweet message after first date')" class="p-4 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-left">
                    <div class="text-2xl mb-2">ğŸ’•</div>
                    <p class="text-sm">After First Date</p>
                </button>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div id="history-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-900 rounded-2xl p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto custom-scrollbar">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">ğŸ“š My Stories & Messages</h3>
                <button onclick="closeHistory()" class="p-2 hover:bg-gray-800 rounded-lg transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div id="history-content" class="space-y-4">
                <!-- History items will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentMode = '';
        let currentResult = '';
        let savedItems = JSON.parse(localStorage.getItem('nexora-saved-items')) || [];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('story-form').addEventListener('submit', generateStory);
            document.getElementById('romance-form').addEventListener('submit', generateRomance);
        });

        // Mode switching
        function showStoryGenerator() {
            currentMode = 'story';
            document.getElementById('mode-selection').classList.add('hidden');
            document.getElementById('story-generator').classList.remove('hidden');
            document.getElementById('romance-writer').classList.add('hidden');
            document.getElementById('results-section').classList.add('hidden');
        }

        function showRomanceWriter() {
            currentMode = 'romance';
            document.getElementById('mode-selection').classList.add('hidden');
            document.getElementById('story-generator').classList.add('hidden');
            document.getElementById('romance-writer').classList.remove('hidden');
            document.getElementById('results-section').classList.add('hidden');
        }

        function goBack() {
            document.getElementById('mode-selection').classList.remove('hidden');
            document.getElementById('story-generator').classList.add('hidden');
            document.getElementById('romance-writer').classList.add('hidden');
            document.getElementById('results-section').classList.add('hidden');
        }

        // Story generation
        function generateStory(e) {
            e.preventDefault();
            
            const genre = document.getElementById('story-genre').value;
            const length = document.getElementById('story-length').value;
            const character = document.getElementById('main-character').value || 'Alex';
            const setting = document.getElementById('story-setting').value || 'a mysterious place';
            const elements = document.getElementById('special-elements').value;

            showLoading('Crafting your amazing story...');
            
            setTimeout(() => {
                const story = createStory(genre, length, character, setting, elements);
                showResult(story, 'Your Amazing Story', 'ğŸ“–');
            }, 2000 + Math.random() * 2000);
        }

        function createStory(genre, length, character, setting, elements) {
            const storyTemplates = {
                adventure: [
                    `${character} had always dreamed of adventure, but nothing could have prepared them for what happened when they discovered ${setting}. The ancient map tucked away in their grandmother's attic had seemed like just another dusty relic, but as ${character} traced the faded lines with their finger, the parchment began to glow with an otherworldly light.`,
                    
                    `Without warning, the world around ${character} shifted and swirled like paint in water. When the dizziness subsided, they found themselves standing in ${setting}, exactly as the map had depicted. The air hummed with magic, and ${character} could feel that their life would never be the same.`,
                    
                    `${elements ? `Armed with ${elements}, ` : ''}${character} took their first tentative steps into this new world. Strange creatures watched from the shadows, some curious, others clearly hostile. But ${character} had come too far to turn back now. This was the adventure they had always been meant to find.`
                ],
                
                mystery: [
                    `The message arrived at exactly midnight, just as ${character} was about to go to sleep. The envelope bore no return address, only their name written in elegant script that seemed to shimmer in the moonlight. Inside, a single line: "Meet me at ${setting} if you want to know the truth about what happened that night."`,
                    
                    `${character}'s hands trembled as they read the words again. That night â€“ everyone said it was just an accident, but ${character} had always suspected there was more to the story. ${elements ? `The ${elements} they had found at the scene` : 'The strange details that never added up'} had haunted their dreams for months.`,
                    
                    `As ${character} made their way through the darkness toward ${setting}, they couldn't shake the feeling that they were being watched. Every shadow seemed to hide a secret, every sound could be a clue. Tonight, finally, they would learn the truth â€“ no matter how dangerous it might be.`
                ],
                
                fantasy: [
                    `On the morning of their sixteenth birthday, ${character} woke to find that ${setting} had completely transformed overnight. Where once there had been ordinary surroundings, now ancient trees with silver bark stretched toward a sky painted in impossible shades of purple and gold.`,
                    
                    `${elements ? `The ${elements} that had appeared on their nightstand` : 'A strange tingling in their fingertips'} confirmed what ${character} had begun to suspect â€“ magic was real, and somehow, they were connected to it. As they stepped outside, creatures of legend began to emerge from the transformed landscape: unicorns with manes like starlight, dragons no bigger than hummingbirds, and wise old owls that spoke in riddles.`,
                    
                    `"Welcome, young one," said a voice like wind chimes. A figure materialized from the morning mist â€“ tall, ethereal, with eyes that held the wisdom of centuries. "We have been waiting for you. Your true journey begins now, in the realm where dreams and reality dance together."`
                ],
                
                'sci-fi': [
                    `The notification on ${character}'s phone was unlike anything they had ever seen. Instead of the usual blue glow, the screen pulsed with colors that didn't seem to exist in nature. The message was simple but impossible: "Temporal displacement detected. Report to ${setting} immediately for debriefing."`,
                    
                    `${character} had always been good with technology, but this was beyond anything they understood. ${elements ? `The ${elements} they had been working on in their garage` : 'Their latest invention'} must have done something to the fabric of space-time itself. As they made their way to the coordinates, the world around them began to flicker like a glitching video game.`,
                    
                    `At ${setting}, ${character} found a portal crackling with energy, and through it, they could see glimpses of other worlds, other times. A figure in a silver suit stepped through, their face hidden behind a helmet that reflected infinite possibilities. "Congratulations," they said, their voice echoing strangely. "You've just become the youngest member of the Temporal Protection Agency."`
                ]
            };

            let story = storyTemplates[genre] || storyTemplates.adventure;
            
            if (length === 'short') {
                story = [story[0], story[2]];
            } else if (length === 'long') {
                story.push(`As ${character} stood at the threshold of this new chapter in their life, they realized that everything they thought they knew about the world was just the beginning. The real adventure was about to start, and they were ready for whatever came next.`);
                story.push(`Little did ${character} know that their actions today would echo through time itself, changing not just their own destiny, but the fate of everyone they cared about. The story of ${character} was just beginning, and it would be more extraordinary than they could ever imagine.`);
            }
            
            return story.join('\n\n');
        }

        // Romance generation
        function generateRomance(e) {
            e.preventDefault();
            
            const type = document.getElementById('romance-type').value;
            const tone = document.getElementById('romance-tone').value;
            const name = document.getElementById('partner-name').value || 'beautiful';
            const loveAbout = document.getElementById('love-about').value || 'everything about you';
            const memory = document.getElementById('special-memory').value;

            showLoading('Creating your perfect message...');
            
            setTimeout(() => {
                const message = createRomanceMessage(type, tone, name, loveAbout, memory);
                showResult(message, 'Your Romantic Message', 'ğŸ’•');
            }, 1500 + Math.random() * 1500);
        }

        function createRomanceMessage(type, tone, name, loveAbout, memory) {
            const messages = {
                'sweet-text': {
                    sweet: `Hey ${name} ğŸ’• Just wanted to let you know that you're the first thing I think about when I wake up and the last thing on my mind before I sleep. Your ${loveAbout} makes every day brighter! Hope you're having an amazing day, beautiful! âœ¨`,
                    passionate: `${name}, you set my heart on fire every single day ğŸ”¥ I can't get enough of your ${loveAbout}. You're not just my love, you're my everything, my reason for smiling, my favorite hello and hardest goodbye ğŸ’–`,
                    playful: `Guess what, ${name}? ğŸ˜Š You're stuck with me because I'm totally obsessed with your ${loveAbout}! Warning: I might randomly text you cute things all day because you're just too amazing not to! ğŸ¥°`,
                    deep: `${name}, in a world full of temporary things, you are my constant. Your ${loveAbout} reminds me every day what true love feels like. Thank you for being my safe place, my home ğŸ ğŸ’•`,
                    casual: `Hey ${name}! ğŸ˜ Just thinking about your ${loveAbout} and couldn't help but smile. You're pretty awesome, you know that? Hope your day is as cool as you are! ğŸŒŸ`
                },
                
                'love-letter': {
                    sweet: `My dearest ${name},\n\nAs I write this letter, my heart is overflowing with love for you. Every day with you feels like a beautiful dream that I never want to wake up from. Your ${loveAbout} captivates me in ways I never thought possible.\n\n${memory ? `I keep thinking about ${memory} and how perfect that moment was.` : 'Every moment we share becomes a treasured memory.'} You have this incredible way of making ordinary days feel magical.\n\nI love you more than words could ever express.\n\nForever yours,\n[Your name] ğŸ’•`,
                    passionate: `My beloved ${name},\n\nYou are the fire in my soul, the passion in my heart, the very air I breathe. Your ${loveAbout} drives me wild with desire and fills me with a love so intense it takes my breath away.\n\n${memory ? `Since ${memory}, I knew you were the one` : 'From the moment I met you, I knew'} who would change my life forever. You are my everything, my reason for being, my greatest love story.\n\nI am completely, utterly, passionately yours.\n\nWith all my love,\n[Your name] ğŸ”¥ğŸ’–`
                },
                
                'poem': {
                    sweet: `For ${name} ğŸŒ¹\n\nYour ${loveAbout} lights up my world,\nLike stars dancing in the night.\nWith you, my heart feels unfurled,\nEverything just feels so right.\n\n${memory ? `I think of ${memory},\nAnd smile with pure delight.` : 'Each day brings new joy,\nYour love is my guiding light.'}\n\nYou're my sunshine, my moon above,\nMy sweetest, truest love. ğŸ’•`,
                    passionate: `To ${name}, my burning flame ğŸ”¥\n\nYour ${loveAbout} sets my soul ablaze,\nA fire that will never die.\nIn your love, I am amazed,\nWith you, I learn to fly.\n\n${memory ? `Since ${memory} came to be,\nMy heart has been your prize.` : 'You are my destiny,\nThe passion in my eyes.'}\n\nForever burning bright and true,\nMy heart belongs to you. ğŸ’–`
                },
                
                'good-morning': {
                    sweet: `Good morning, sunshine! â˜€ï¸ Waking up knowing I get to talk to you today makes everything better. Your ${loveAbout} is the first thing that makes me smile each morning. Hope your day is as wonderful as you are, ${name}! ğŸ’•`,
                    playful: `Rise and shine, ${name}! ğŸŒ… The world is ready for your amazing ${loveAbout} to brighten everyone's day! I'm already excited to hear about all the awesome things you're going to do today! ğŸ˜Šâœ¨`,
                    casual: `Morning ${name}! â˜• Hope you slept well and are ready to be your awesome self today. Your ${loveAbout} always makes my mornings better! Have a great day! ğŸŒŸ`
                },
                
                'good-night': {
                    sweet: `Sweet dreams, ${name} ğŸŒ™ As you drift off to sleep, know that you're the most beautiful part of my day. Your ${loveAbout} fills my heart with so much joy. Sleep tight, beautiful! ğŸ’•âœ¨`,
                    passionate: `Good night, my love ğŸŒ™ As the stars watch over you tonight, know that my heart beats only for you. Your ${loveAbout} is my last thought before I sleep and my first when I wake. Dream of us ğŸ’–`,
                    playful: `Nighty night, ${name}! ğŸŒ™ Time for you to recharge that amazing ${loveAbout} for another day of being absolutely incredible! Sweet dreams, superstar! ğŸ˜´ğŸ’«`
                }
            };

            const toneMessages = messages[type];
            if (toneMessages && toneMessages[tone]) {
                return toneMessages[tone];
            }

            // Fallback message
            return `Hey ${name}! ğŸ’• I just wanted to tell you how much your ${loveAbout} means to me. ${memory ? `Thinking about ${memory} always makes me smile.` : 'You make every day special.'} You're absolutely amazing! âœ¨`;
        }

        // Results handling
        function showResult(content, title, icon) {
            currentResult = content;
            document.getElementById('results-title').innerHTML = `${icon} ${title}`;
            document.getElementById('result-content').innerHTML = `<p class="whitespace-pre-wrap leading-relaxed">${content}</p>`;
            
            document.getElementById('story-generator').classList.add('hidden');
            document.getElementById('romance-writer').classList.add('hidden');
            document.getElementById('results-section').classList.remove('hidden');
            
            hideLoading();
        }

        function copyResult() {
            navigator.clipboard.writeText(currentResult);
            showNotification('Copied to clipboard! ğŸ“‹', 'success');
        }

        function saveResult() {
            const item = {
                id: Date.now(),
                content: currentResult,
                type: currentMode,
                timestamp: new Date().toISOString(),
                title: currentMode === 'story' ? 'Story' : 'Romance Message'
            };
            
            savedItems.unshift(item);
            localStorage.setItem('nexora-saved-items', JSON.stringify(savedItems));
            showNotification('Saved to your collection! ğŸ’¾', 'success');
        }

        function shareResult() {
            if (navigator.share) {
                navigator.share({
                    title: 'Created with NExora',
                    text: currentResult
                });
            } else {
                copyResult();
                showNotification('Copied for sharing! ğŸ“¤', 'info');
            }
        }

        function regenerateResult() {
            if (currentMode === 'story') {
                generateStory({ preventDefault: () => {} });
            } else {
                generateRomance({ preventDefault: () => {} });
            }
        }

        // Quick prompts
        function useQuickPrompt(type, prompt) {
            if (type === 'story') {
                showStoryGenerator();
                document.getElementById('main-character').value = 'Alex';
                document.getElementById('story-setting').value = prompt.includes('video game') ? 'a digital world' : 'a magical realm';
                document.getElementById('special-elements').value = prompt.includes('magical') ? 'newfound magical abilities' : 'gaming skills';
            } else {
                showRomanceWriter();
                if (prompt.includes('good morning')) {
                    document.getElementById('romance-type').value = 'good-morning';
                } else {
                    document.getElementById('romance-type').value = 'sweet-text';
                }
            }
        }

        // History management
        function showHistory() {
            const modal = document.getElementById('history-modal');
            const content = document.getElementById('history-content');
            
            if (savedItems.length === 0) {
                content.innerHTML = `
                    <div class="text-center text-gray-400 py-8">
                        <div class="text-6xl mb-4">ğŸ“š</div>
                        <p>No saved stories or messages yet!</p>
                        <p class="text-sm mt-2">Create something amazing and save it to see it here.</p>
                    </div>
                `;
            } else {
                content.innerHTML = savedItems.map(item => `
                    <div class="bg-gray-800 rounded-lg p-4">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h4 class="font-semibold">${item.type === 'story' ? 'ğŸ“–' : 'ğŸ’•'} ${item.title}</h4>
                                <p class="text-sm text-gray-400">${new Date(item.timestamp).toLocaleDateString()}</p>
                            </div>
                            <button onclick="deleteItem(${item.id})" class="text-red-400 hover:text-red-300 transition-colors">
                                ğŸ—‘ï¸
                            </button>
                        </div>
                        <p class="text-gray-300 text-sm line-clamp-3">${item.content.substring(0, 150)}...</p>
                        <button onclick="viewItem(${item.id})" class="mt-3 px-4 py-2 bg-orangered hover:bg-red-600 text-white rounded text-sm transition-colors">
                            View Full
                        </button>
                    </div>
                `).join('');
            }
            
            modal.classList.remove('hidden');
        }

        function closeHistory() {
            document.getElementById('history-modal').classList.add('hidden');
        }

        function deleteItem(id) {
            if (confirm('Are you sure you want to delete this item?')) {
                savedItems = savedItems.filter(item => item.id !== id);
                localStorage.setItem('nexora-saved-items', JSON.stringify(savedItems));
                showHistory(); // Refresh the display
                showNotification('Item deleted! ğŸ—‘ï¸', 'info');
            }
        }

        function viewItem(id) {
            const item = savedItems.find(i => i.id === id);
            if (item) {
                currentResult = item.content;
                currentMode = item.type;
                showResult(item.content, item.title, item.type === 'story' ? 'ğŸ“–' : 'ğŸ’•');
                closeHistory();
            }
        }

        // Utility functions
        function showLoading(message) {
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading-overlay';
            loadingDiv.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            loadingDiv.innerHTML = `
                <div class="bg-gray-900 rounded-2xl p-8 text-center">
                    <div class="text-6xl mb-4 pulse-animation">âœ¨</div>
                    <h3 class="text-xl font-bold mb-2">${message}</h3>
                    <div class="flex justify-center space-x-1">
                        <div class="w-2 h-2 bg-orangered rounded-full animate-bounce"></div>
                        <div class="w-2 h-2 bg-orangered rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                        <div class="w-2 h-2 bg-orangered rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                    </div>
                </div>
            `;
            document.body.appendChild(loadingDiv);
        }

        function hideLoading() {
            const loading = document.getElementById('loading-overlay');
            if (loading) {
                loading.remove();
            }
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-lg text-white z-50 fade-in ${
                type === 'success' ? 'bg-green-600' : 
                type === 'error' ? 'bg-red-600' : 
                type === 'info' ? 'bg-blue-600' : 'bg-gray-600'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function toggleTheme() {
            showNotification('Theme switching coming soon! ğŸŒ™', 'info');
        }

        // Close modal on outside click
        document.getElementById('history-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeHistory();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'968c0774d63e0088',t:'MTc1NDEyMTQ5Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>